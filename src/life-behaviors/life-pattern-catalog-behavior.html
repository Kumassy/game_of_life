<script type="text/javascript">
  LifePatternCatalogBehavior = {
    properties: {
      catalog: {
        type: Array,
        value: function() {
          return [];
        }
      },
      currentPatterns: {
        type: Object,
        computed: '_computeCurrentPatterns(catalog, currentPage, patternsPerPage)'
      },
      currentPage: {
        type: Number,
        value: 0
      },
      patternsPerPage: {
        type: Number,
        value: 12
      },
      pageCount: {
        type: Number,
        computed: '_computePageCount(catalog, patternsPerPage)'
      },
      canGoNext: {
        type: Boolean,
        computed: '_checkWhetherCanGoNext(currentPage, pageCount)'
      },
      canGoBack: {
        type: Boolean,
        computed: '_checkWhetherCanGoBack(currentPage, pageCount)'
      }
    },

    _computePageCount: function(catalog, patternsPerPage){
      return Math.ceil(catalog.length / patternsPerPage);
    },

    _computeCurrentPatterns: function(catalog, currentPage, patternsPerPage){
      return catalog.slice(currentPage * patternsPerPage, currentPage * patternsPerPage + patternsPerPage);
    },

    _checkWhetherCanGoNext: function(currentPage, pageCount) {
      if(currentPage < pageCount - 1){
        return true;
      }
      else {
        return false;
      }
    },
    _checkWhetherCanGoBack: function(currentPage, pageCount) {
      if(currentPage > 0){
        return true;
      }
      else {
        return false;
      }
    },

    goNext: function() {
      if(this.canGoNext) {
        this.currentPage += 1;
      }
    },

    goBack: function() {
      if(this.canGoBack) {
        this.currentPage -= 1;
      }
    },

  }

</script>
